---
import Carousel from "../../components/Carousel.astro";
import HorizontalCenter from "../../components/HorizontalCenter.astro";
import GttLayout from "../GttLayout.astro";
const {frontmatter} = Astro.props;
---
<GttLayout pageTitle={frontmatter.title}>
    <HorizontalCenter elementId="GttLayoutGames-sponsor-carouselHolder"><Carousel elementId="gameSelectCarousel"></Carousel></HorizontalCenter>
    <div class="ContentHolder"><slot/></div>
</GttLayout>
<script>
    import { listGames } from "../../scripts/api/game";
import { carouselAppendChild } from "../../scripts/carousel";

    const carousel = document.getElementById("gameSelectCarousel") as HTMLDivElement;

    async function loadGameBanners(){
        const games = await listGames();
        for(const game of games){
            const a = document.createElement("a");
            a.classList.add("index-game");
            a.setAttribute("href", `/games/rules/${game.name}`);

            const img = document.createElement("img");
            img.setAttribute("src", game.icon);
            a.appendChild(img);

            carouselAppendChild(carousel, a);
        }
    }
    loadGameBanners();
</script>
<style is:global>
    .ContentHolder{
        background: rgb(8,14,31);
        background: linear-gradient(90deg, rgba(8,14,31,1) 0%, rgba(4,6,16,1) 100%);
        margin: 8rem;
        padding: 4rem;
        border-radius: 1rem;
        font-size: 1.2rem;
        font-weight: bold;
        box-shadow: 0 0 10rem 0.5rem #ffffff34;
    }

    .ContentHolder h1{
        text-align: center;
        font-weight: bolder;
        font-size: 3rem;
        background-image: linear-gradient(90deg, #FFFFFF 0%, #FFC300 100%);
        background-clip: text;
        -webkit-background-clip: text; /* For WebKit browsers */
        color: transparent;
    }

    .ContentHolder h2{
        width: fit-content;
        background-image: linear-gradient(45deg, #FFD60A, #FF9E00);
        background-clip: text;
        -webkit-background-clip: text; /* For WebKit browsers */
        color: transparent;
        font-size: 2.5rem;
    }

    .ContentHolder h3{
        width: fit-content;
        background-image: linear-gradient(45deg, #FFD60A, #FF9E00);
        background-clip: text;
        -webkit-background-clip: text; /* For WebKit browsers */
        color: transparent;
        font-size: 2rem;
        margin-bottom: 0rem;
    }
    .ContentHolder li p{
        margin: 0;
    }
    .ContentHolder a{
        text-decoration: none;
        color: blue;
    }
</style>
<style is:global>
    #gameSelectCarousel img{
        height: 8rem;
        width: auto;
    }
</style>